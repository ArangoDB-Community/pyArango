language: python

python:
  - "2.7"
  - "3.5"

env:
  - DB_VERSION: v2.8.11
  - DB_VERSION: v3.0.3

before_install:
- echo arangodb3 arangodb/password password root | sudo debconf-set-selections
- echo arangodb3 arangodb/password_again password root | sudo debconf-set-selections
- curl -s -L https://raw.githubusercontent.com/brennv/arangodb-travis/$DB_VERSION/setup_arangodb.sh -o setup.sh
- chmod +x setup.sh
- ./setup.sh
- pip install coverage

install: python setup.py install

script: coverage run -m unittest discover pyArango/tests/

after_success: bash <(curl -s https://codecov.io/bash)
